
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
       <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

<link type="text/css" rel="stylesheet" href="dreamcodes/tables1/css/tsc_tables1.css" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->
    <meta name="description" content="Custom Login Form Styling with CSS3" />
    <meta name="keywords" content="css3, login, form, custom, input, submit, button, html5, placeholder" />
    <meta name="author" content="Codrops" />
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="jquerycss.css">
     
  <!-- <link rel="stylesheet" href="css/framework7.material.min.css">
    <link rel="stylesheet" href="css/framework7.material.colors.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css" />
       <link rel="stylesheet" href="css/my-app.css">-->
    <title>Go Matha</title>
    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>

    <script type="text/javascript" charset="utf-8">

        // Wait for Cordova to load
        //
        document.addEventListener("deviceready", onDeviceReady, false);

        var currentRow;
        // Populate the database
        //
        function populateDB(tx) {
            tx.executeSql('CREATE TABLE IF NOT EXISTS PARAYANA (id INTEGER PRIMARY KEY AUTOINCREMENT,date,location,medium,astakam_count,astakam_value_count,comments)');

        }

        // Query the database
        //
        function queryDB(tx) {
            tx.executeSql('SELECT * FROM PARAYANA', [], querySuccess, errorCB);
        }

        function searchQueryDB(tx) {
            tx.executeSql("SELECT * FROM PARAYANA where astakam_count like ('%"+ document.getElementById("txtAstakamCount").value + "%')",
                    [], querySuccess, errorCB);
        }

        // Query the success callback
        //
        function querySuccess(tx, results) {
               var tblText='<table id="t01" class="tsc_table_s1"><tr><th>ID</th> <th>Date</th> <th>Location</th><th>Medium</th><th>Astakam Count</th><th>Astakam Value Count</th><th>Comments</th></tr>';
               var len = results.rows.length;
               for (var i = 0; i < len; i++) {
                   var tmpArgs=results.rows.item(i).id + ",'" + results.rows.item(i).date
                           + "','" + results.rows.item(i).location+"'"+ results.rows.item(i).medium
                                   + "','"+ results.rows.item(i).astakam_count+"'"+ results.rows.item(i).astakam_value_count+"'"+ results.rows.item(i).comments+"'";
                   tblText +='<tr><td>' + results.rows.item(i).id +'</td><td>'
                           + results.rows.item(i).date +'</td><td>' + results.rows.item(i).location +'</td><td>' + results.rows.item(i).medium +'</td><td>' + results.rows.item(i).astakam_count +'</td><td>' + results.rows.item(i).astakam_value_count +'</td><td>'
                           + results.rows.item(i).comments +'</td><td></tr>';
               }
               tblText +="</table>";
               document.getElementById("tblDiv").innerHTML =tblText;
           }

        //Delete query
        function deleteRow(tx) {
          tx.executeSql('DELETE FROM PARAYANA WHERE id = ' +document.getElementById("editID").value, [], queryDB, errorCB);
        }

        // Transaction error callback
        //
        function errorCB(err) {
            alert("Error processing SQL: "+err.code);
        }

        // Transaction success callback
        //
        function successCB() {
            var db = window.openDatabase("Database", "1.0", "Cordova PARAYANA", 200000);
            db.transaction(queryDB, errorCB);
        }

         // Cordova is ready
        //
        function onDeviceReady() {
            var db = window.openDatabase("Database", "1.0", "Cordova PARAYANA", 200000);
            db.transaction(populateDB, errorCB, successCB);
        }

        //Insert query
        //
        function insertDB(tx) {
              tx.executeSql('INSERT INTO PARAYANA (date,location,medium,astakam_count,astakam_value_count,comments) VALUES ("' +document.getElementById("txtDateOB").value
                      +'","'+document.getElementById("txtLocation").value+'","'+document.getElementById("txtMedium").value+'","'+document.getElementById("txtAstakamCount").value+'","'+document.getElementById("txtAstakamValueCount").value+'","'+document.getElementById("txtComments").value+'")');
          }

        function goInsert() {
            var db = window.openDatabase("Database", "1.0", "Cordova PARAYANA", 200000);
            db.transaction(insertDB, errorCB, successCB);
        }

        function goSearch() {
            var db = window.openDatabase("Database", "1.0", "Cordova PARAYANA", 200000);
            db.transaction(searchQueryDB, errorCB);
        }


        function goDelete() {
             var db = window.openDatabase("Database", "1.0", "Cordova PARAYANA", 200000);
             db.transaction(deleteRow, errorCB);
             document.getElementById('qrpopup').style.display='none';
        }

        //Show the popup after tapping a row in table
        //
        function goPopup(row,rowname,rownum) {
            currentRow=row;
            document.getElementById("qrpopup").style.display="block";
            document.getElementById("editNameBox").value = rowname;
            document.getElementById("editNumberBox").value = rownum;
        }

        function editRow(tx) {
               tx.executeSql('UPDATE PARAYANA SET location ="'+document.getElementById("editLocation").value+
                       '", date= "'+document.getElementById("editdate").value+ '", medium= "'+document.getElementById("editMedium").value+ '", astakam_count= "'+document.getElementById("editAstakamCount").value+ '", astakam_value_count= "'+document.getElementById("editAstakamValueCount").value+ '" WHERE id = '+document.getElementById("editID").value , [], queryDB, errorCB);
           }
        function goEdit() {
            var db = window.openDatabase("Database", "1.0", "Cordova PARAYANA", 200000);
            db.transaction(editRow, errorCB);
            document.getElementById('qrpopup').style.display='none';
        }

<!-- DatePicker-->
function handleDates(elm, options) {
      event.stopPropagation();
      var currentField = $(elm);
      var opts = options || {};
      var minVal = opts.min || 0;
      var maxVal = opts.max || 0;

      var myNewDate = Date.parse(currentField.val()) || new Date();
      if(typeof myNewDate === "number") {
          myNewDate = new Date (myNewDate);
      }

      window.plugins.datePicker.show({
          date : myNewDate,
          mode : 'date',
          minDate: Date.parse(minVal),
          maxDate: Date.parse(maxVal)
      }, function(returnDate) {
          if(returnDate !== "") {
              var newDate = new Date(returnDate);
              currentField.val(getFormattedDate(newDate));
          }
          currentField.blur();
      });
  }
    </script>
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="bootstrap.min.js"></script>

<script type="text/javascript" src="datepickerquery.js"></script>
<script type="text/javascript" src="datepickermin.js"></script>

  <script>
  $(document).ready(function() {
    $("#txtDateOB").datepicker();
  });
  </script>
  <script>
    $(function(){
        var $select = $(".nootaenimidhi");
        for (i=1;i<=108;i++){
            $select.append($('<option></option>').val(i).html(i))
        }
        $('select.nootaenimidhi').on('change',function(){

        });
    });
       </script>
</head>
<body>
<div class="container">
    <!-- Status bar overlay for fullscreen mode-->

      <h1 style="color:white" >Go Matha Application</h1>
      <h3 style="color:white" >Vasudeva</h3>
<section class="main">
  <form class="form-4" action="">
      <div style="text-align: left">
      <button type="button" class="btn btn-success" onclick="goInsert()"><b>Insert</b></button>

      </div>
      <div>
            <!--Name<input type="text" value="Name" id="txtName"><br>-->
            <b>  Date</b><input type="text"  id="txtDateOB"><br>
                 <b>Location</b><input type="text" value="" id="txtLocation"><br>
                  <b>Medium</b><input type="text" value="" id="txtMedium"><br>
                <b>Astakam Count</b><select class="nootaenimidhi" id="txtAstakamCount"></select>
                <b>Astakam Value Count</b><select class="nootaenimidhi" id="txtAstakamValueCount"></select>
                <b>Comments</b><input type="text" value="" id="txtComments"><br>

      </div>
	  <div style="text-align: center">
          <button type="button" class="btn btn-success" onclick="goInsert()"><b>Insert</b></button>

      </div>
      <div id="tblDiv"></div>
      <div style="text-align: center">
          <button type="button" class="btn btn-success" onclick="goInsert()"><b>Insert</b></button>

      </div>
</div>
</form>​
</section>
  </body>

</html>
